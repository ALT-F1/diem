<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `env` mod in crate `spec_lang`."><meta name="keywords" content="rust, rustlang, rust-lang, env"><title>spec_lang::env - Rust</title><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../dark.css"><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script src="../../storage.js"></script><noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="shortcut icon" href="../../favicon.ico"><style type="text/css">#crate-search{background-image:url("../../down-arrow.svg");}</style></head><body class="rustdoc mod"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><a href='../../spec_lang/index.html'><div class='logo-container'><img src='../../rust-logo.png' alt='logo'></div></a><p class='location'>Module env</p><div class="sidebar-elems"><div class="block items"><ul><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><p class='location'><a href='../index.html'>spec_lang</a></p><script>window.sidebarCurrent = {name: 'env', ty: 'mod', relpath: '../'};</script><script defer src="../sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../theme.js"></script><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input" name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><a id="settings-menu" href="../../settings.html"><img src="../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../src/spec_lang/env.rs.html#4-2437' title='goto source code'>[src]</a></span><span class='in-band'>Module <a href='../index.html'>spec_lang</a>::<wbr><a class="mod" href=''>env</a></span></h1><div class='docblock'><p>Provides an environment -- global state -- for translation, including helper functions
to interpret metadata about the translation target.</p>
</div><h2 id='structs' class='section-header'><a href="#structs">Structs</a></h2>
<table><tr class='module-item'><td><a class="struct" href="struct.ConditionInfo.html" title='spec_lang::env::ConditionInfo struct'>ConditionInfo</a></td><td class='docblock-short'><p>Information about a verification condition stored in the environment.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.FieldData.html" title='spec_lang::env::FieldData struct'>FieldData</a></td><td class='docblock-short'><p>Field Environment</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.FieldEnv.html" title='spec_lang::env::FieldEnv struct'>FieldEnv</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.FieldId.html" title='spec_lang::env::FieldId struct'>FieldId</a></td><td class='docblock-short'><p>Identifier for a field of a structure, relative to struct.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.FunId.html" title='spec_lang::env::FunId struct'>FunId</a></td><td class='docblock-short'><p>Identifier for a Move function, relative to module.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.FunctionData.html" title='spec_lang::env::FunctionData struct'>FunctionData</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.FunctionEnv.html" title='spec_lang::env::FunctionEnv struct'>FunctionEnv</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.GlobalEnv.html" title='spec_lang::env::GlobalEnv struct'>GlobalEnv</a></td><td class='docblock-short'><p>Global Environment</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.GlobalId.html" title='spec_lang::env::GlobalId struct'>GlobalId</a></td><td class='docblock-short'><p>A global id. Instances of this type represent unique identifiers relative to <code>GlobalEnv</code>.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Loc.html" title='spec_lang::env::Loc struct'>Loc</a></td><td class='docblock-short'><p>Locations</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ModuleData.html" title='spec_lang::env::ModuleData struct'>ModuleData</a></td><td class='docblock-short'><p>Module Environment</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ModuleEnv.html" title='spec_lang::env::ModuleEnv struct'>ModuleEnv</a></td><td class='docblock-short'><p>Represents a module environment.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.ModuleId.html" title='spec_lang::env::ModuleId struct'>ModuleId</a></td><td class='docblock-short'><p>Identifier for a module.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.NamedConstantData.html" title='spec_lang::env::NamedConstantData struct'>NamedConstantData</a></td><td class='docblock-short'><p>Named Constant Environment</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.NamedConstantEnv.html" title='spec_lang::env::NamedConstantEnv struct'>NamedConstantEnv</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.NamedConstantId.html" title='spec_lang::env::NamedConstantId struct'>NamedConstantId</a></td><td class='docblock-short'><p>Identifier for a named constant, relative to module.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.NodeId.html" title='spec_lang::env::NodeId struct'>NodeId</a></td><td class='docblock-short'><p>Identifier for a node in the AST, relative to a module. This is used to associate attributes
with the node, like source location and type.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.Parameter.html" title='spec_lang::env::Parameter struct'>Parameter</a></td><td class='docblock-short'><p>Represents a parameter.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.QualifiedId.html" title='spec_lang::env::QualifiedId struct'>QualifiedId</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.SchemaId.html" title='spec_lang::env::SchemaId struct'>SchemaId</a></td><td class='docblock-short'><p>Identifier for a schema.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SpecFunId.html" title='spec_lang::env::SpecFunId struct'>SpecFunId</a></td><td class='docblock-short'><p>Identifier for a specification function, relative to module.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.SpecVarId.html" title='spec_lang::env::SpecVarId struct'>SpecVarId</a></td><td class='docblock-short'><p>Identifier for a specification variable, relative to module.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.StructData.html" title='spec_lang::env::StructData struct'>StructData</a></td><td class='docblock-short'><p>Struct Environment</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.StructEnv.html" title='spec_lang::env::StructEnv struct'>StructEnv</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="struct" href="struct.StructId.html" title='spec_lang::env::StructId struct'>StructId</a></td><td class='docblock-short'><p>Identifier for a structure/resource, relative to module.</p>
</td></tr><tr class='module-item'><td><a class="struct" href="struct.TypeParameter.html" title='spec_lang::env::TypeParameter struct'>TypeParameter</a></td><td class='docblock-short'><p>Function Environment</p>
</td></tr></table><h2 id='enums' class='section-header'><a href="#enums">Enums</a></h2>
<table><tr class='module-item'><td><a class="enum" href="enum.ConditionTag.html" title='spec_lang::env::ConditionTag enum'>ConditionTag</a></td><td class='docblock-short'><p>A tag used to be associated with a condition info. Condition infos are
identified in the environment by a pair of Loc and this type.</p>
</td></tr><tr class='module-item'><td><a class="enum" href="enum.TypeConstraint.html" title='spec_lang::env::TypeConstraint enum'>TypeConstraint</a></td><td class='docblock-short'></td></tr><tr class='module-item'><td><a class="enum" href="enum.VerificationScope.html" title='spec_lang::env::VerificationScope enum'>VerificationScope</a></td><td class='docblock-short'><p>Verification Scope</p>
</td></tr></table><h2 id='constants' class='section-header'><a href="#constants">Constants</a></h2>
<table><tr class='module-item'><td><a class="constant" href="constant.ABORTS_IF_IS_PARTIAL_PRAGMA.html" title='spec_lang::env::ABORTS_IF_IS_PARTIAL_PRAGMA constant'>ABORTS_IF_IS_PARTIAL_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating whether aborts_if specification should be considered partial.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.ABORTS_IF_IS_STRICT_PRAGMA.html" title='spec_lang::env::ABORTS_IF_IS_STRICT_PRAGMA constant'>ABORTS_IF_IS_STRICT_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating whether no explicit aborts_if specification should be treated
like <code>aborts_if</code> false.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.ADDITION_OVERFLOW_UNCHECKED_PRAGMA.html" title='spec_lang::env::ADDITION_OVERFLOW_UNCHECKED_PRAGMA constant'>ADDITION_OVERFLOW_UNCHECKED_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating that adding u64 or u128 values should not be checked
for overflow.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.ALWAYS_ABORTS_TEST_PRAGMA.html" title='spec_lang::env::ALWAYS_ABORTS_TEST_PRAGMA constant'>ALWAYS_ABORTS_TEST_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating that the function will run smoke tests</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.ASSUME_NO_ABORT_FROM_HERE_PRAGMA.html" title='spec_lang::env::ASSUME_NO_ABORT_FROM_HERE_PRAGMA constant'>ASSUME_NO_ABORT_FROM_HERE_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating that aborts from this function shall be ignored.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_ABORT_ASSERT_PROP.html" title='spec_lang::env::CONDITION_ABORT_ASSERT_PROP constant'>CONDITION_ABORT_ASSERT_PROP</a></td><td class='docblock-short'><p>Property which indicates that an aborts_if should be asserted.
For callers of a function with such an aborts_if, the negation of the condition becomes
an assertion.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_ABORT_ASSUME_PROP.html" title='spec_lang::env::CONDITION_ABORT_ASSUME_PROP constant'>CONDITION_ABORT_ASSUME_PROP</a></td><td class='docblock-short'><p>Property which indicates that an aborts_if should be assumed.
For callers of a function with such an aborts_if, the negation of the condition becomes
an assumption.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_ABSTRACT_PROP.html" title='spec_lang::env::CONDITION_ABSTRACT_PROP constant'>CONDITION_ABSTRACT_PROP</a></td><td class='docblock-short'><p>Abstract property which can be used together with an opaque specification. An abstract
property is not verified against the implementation, but will be used for the
function's behavior in the application context. This allows to &quot;override&quot; the specification
with a more abstract version. In general we would need to prover the abstraction is
subsumed by the implementation, but this is currently not done.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_CHECK_ABORT_CODES_PROP.html" title='spec_lang::env::CONDITION_CHECK_ABORT_CODES_PROP constant'>CONDITION_CHECK_ABORT_CODES_PROP</a></td><td class='docblock-short'><p>A property which can be attached to an aborts_with to indicate that it should act as check
whether the function produces exactly the provided number of error codes.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_CONCRETE_PROP.html" title='spec_lang::env::CONDITION_CONCRETE_PROP constant'>CONDITION_CONCRETE_PROP</a></td><td class='docblock-short'><p>Opposite to the abstract property.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_DEACTIVATED_PROP.html" title='spec_lang::env::CONDITION_DEACTIVATED_PROP constant'>CONDITION_DEACTIVATED_PROP</a></td><td class='docblock-short'><p>A property which can be attached to any condition to exclude it from verification. The
condition will still be type checked.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_EXPORT_PROP.html" title='spec_lang::env::CONDITION_EXPORT_PROP constant'>CONDITION_EXPORT_PROP</a></td><td class='docblock-short'><p>Property which can be attached to conditions to make them exported into the VC context
even if they are injected.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_GLOBAL_PROP.html" title='spec_lang::env::CONDITION_GLOBAL_PROP constant'>CONDITION_GLOBAL_PROP</a></td><td class='docblock-short'><p>Property which can be attached to a module invariant to make it global.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_INJECTED_PROP.html" title='spec_lang::env::CONDITION_INJECTED_PROP constant'>CONDITION_INJECTED_PROP</a></td><td class='docblock-short'><p>Internal property attached to conditions if they are injected via an apply or a module
invariant.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.CONDITION_ISOLATED_PROP.html" title='spec_lang::env::CONDITION_ISOLATED_PROP constant'>CONDITION_ISOLATED_PROP</a></td><td class='docblock-short'><p>Property which can be attached to a global invariant to mark it as not to be used as
an assumption in other verification steps. This can be used for invariants which are
nonoperational constraints on system behavior, i.e. the systems &quot;works&quot; whether the
invariant holds or not. Invariant marked as such are not assumed when
memory is accessed, but only in the pre-state of a memory update.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.EXPORT_ENSURES_PRAGMA.html" title='spec_lang::env::EXPORT_ENSURES_PRAGMA constant'>EXPORT_ENSURES_PRAGMA</a></td><td class='docblock-short'><p>Pragma which indicates that the function's abort and ensure conditions shall be exported
to the verification context even if the implementation of the function is inlined.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.INTRINSIC_PRAGMA.html" title='spec_lang::env::INTRINSIC_PRAGMA constant'>INTRINSIC_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating whether implementation of function should be ignored and
instead treated to be like a native function.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.OPAQUE_PRAGMA.html" title='spec_lang::env::OPAQUE_PRAGMA constant'>OPAQUE_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating whether implementation of function should be ignored and
instead interpreted by its pre and post conditions only.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.REQUIRES_IF_ABORTS_PRAGMA.html" title='spec_lang::env::REQUIRES_IF_ABORTS_PRAGMA constant'>REQUIRES_IF_ABORTS_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating that requires are also enforced if the aborts condition is true.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.SCRIPT_BYTECODE_FUN_NAME.html" title='spec_lang::env::SCRIPT_BYTECODE_FUN_NAME constant'>SCRIPT_BYTECODE_FUN_NAME</a></td><td class='docblock-short'><p>Names used in the bytecode/AST to represent the main function of a script</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.SCRIPT_MODULE_NAME.html" title='spec_lang::env::SCRIPT_MODULE_NAME constant'>SCRIPT_MODULE_NAME</a></td><td class='docblock-short'><p>Constants</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.SEED_PRAGMA.html" title='spec_lang::env::SEED_PRAGMA constant'>SEED_PRAGMA</a></td><td class='docblock-short'><p>Pragma defining a random seed.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.TIMEOUT_PRAGMA.html" title='spec_lang::env::TIMEOUT_PRAGMA constant'>TIMEOUT_PRAGMA</a></td><td class='docblock-short'><p>Pragma defining a timeout.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.VERIFY_DURATION_ESTIMATE_PRAGMA.html" title='spec_lang::env::VERIFY_DURATION_ESTIMATE_PRAGMA constant'>VERIFY_DURATION_ESTIMATE_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating an estimate how long verification takes. Verification
is skipped if the timeout is smaller than this.</p>
</td></tr><tr class='module-item'><td><a class="constant" href="constant.VERIFY_PRAGMA.html" title='spec_lang::env::VERIFY_PRAGMA constant'>VERIFY_PRAGMA</a></td><td class='docblock-short'><p>Pragma indicating whether verification should be performed for a function.</p>
</td></tr></table><h2 id='functions' class='section-header'><a href="#functions">Functions</a></h2>
<table><tr class='module-item'><td><a class="fn" href="fn.is_pragma_valid_for_block.html" title='spec_lang::env::is_pragma_valid_for_block fn'>is_pragma_valid_for_block</a></td><td class='docblock-short'><p>Checks whether a pragma is valid in a specific spec block.</p>
</td></tr><tr class='module-item'><td><a class="fn" href="fn.is_property_valid_for_condition.html" title='spec_lang::env::is_property_valid_for_condition fn'>is_property_valid_for_condition</a></td><td class='docblock-short'><p>A function which determines whether a property is valid for a given condition kind.</p>
</td></tr></table><h2 id='types' class='section-header'><a href="#types">Type Definitions</a></h2>
<table><tr class='module-item'><td><a class="type" href="type.MoveIrLoc.html" title='spec_lang::env::MoveIrLoc type'>MoveIrLoc</a></td><td class='docblock-short'><p>Alias for the Loc variant of MoveIR. This uses a <code>&amp;static str</code> instead of <code>FileId</code> for the
file name.</p>
</td></tr></table></section><section id="search" class="content hidden"></section><section class="footer"></section><script>window.rootPath = "../../";window.currentCrate = "spec_lang";</script><script src="../../main.js"></script><script defer src="../../search-index.js"></script></body></html>